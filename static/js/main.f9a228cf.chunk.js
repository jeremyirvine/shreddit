(this.webpackJsonpshreddit=this.webpackJsonpshreddit||[]).push([[0],[,,,,,,,,,,,,,,,,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var n=s(0),i=s(1),r=s.n(i),o=s(10),c=s.n(o),a=(s(16),s(3)),u=s(2),l=s(4),d=s(5),h=(s(17),[{postID:"43t54g35",title:"Get It?",text:"... because its tr..[removed by moderator]",timePosted:"Thu Dec 03 2020 10:57:55 GMT-0800 (Pacific Standard Time)",likes:"20",authorID:"45rg893hr",comments:[{commentID:"_3g3432",text:"this is a comment",authorID:"45rg893hr",replies:[{commentID:"_2349rg243",text:"This is a reply",authorID:"45rg893hr"}]},{commentID:"_437fg92",text:"This is another comment",authorID:"45rg893hr"}]},{postID:"r8gy93hg",title:"Test Post",text:"This is a test post",timePosted:"Thu Dec 03 2020 10:57:55 GMT-0800 (Pacific Standard Time)",likes:"20",authorID:"37f8g3d",comments:[{commentID:"_3g3432",text:"this is a comment",authorID:"45rg893hr",replies:[{commentID:"_2349rg243",text:"This is a reply",authorID:"45rg893hr"}]},{commentID:"_437fg92",text:"This is another comment",authorID:"45rg893hr"}]},{postID:"45y3g53hby4",title:"Test Post",text:"This is a test post that spans over the character limit of the PostsView. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis et gravida risus. Nam urna dolor, faucibus quis porttitor vitae, rutrum eget ligula. Donec consequat sollicitudin ornare. Donec tincidunt hendrerit molestie. Fusce consectetur, magna eget convallis sodales, libero velit sagittis nunc, id fringilla massa erat eu tortor.",timePosted:"Thu Dec 03 2020 10:57:55 GMT-0800 (Pacific Standard Time)",likes:"20",authorID:"45rg893hr",comments:[{commentID:"_3g3432",text:"this is a comment",authorID:"45rg893hr",replies:[{commentID:"_2349rg243",text:"This is a reply",authorID:"45rg893hr"}]},{commentID:"_437fg92",text:"This is another comment",authorID:"45rg893hr"}]},{postID:"yuj5ytgh4",title:"Test Post",text:"This is a test post",timePosted:"Thu Dec 03 2020 10:57:55 GMT-0800 (Pacific Standard Time)",likes:"20",authorID:"45rg893hr",comments:[{commentID:"_3g3432",text:"this is a comment",authorID:"45rg893hr",replies:[{commentID:"_2349rg243",text:"This is a reply",authorID:"45rg893hr"}]},{commentID:"_437fg92",text:"This is another comment",authorID:"45rg893hr"}]},{postID:"34tgfg453",title:"Test Post",text:"This is a test post",timePosted:"Thu Dec 03 2020 10:57:55 GMT-0800 (Pacific Standard Time)",likes:"20",authorID:"45rg893hr",comments:[{commentID:"_3g3432",text:"this is a comment",authorID:"45rg893hr",replies:[{commentID:"_2349rg243",text:"This is a reply",authorID:"45rg893hr"}]},{commentID:"_437fg92",text:"This is another comment",authorID:"45rg893hr"}]}]),j=[{id:"45rg893hr",name:"jeremyirvine",createdOn:"11/31/2020, 1:09:15 PM",img:"https://secure.gravatar.com/avatar/d606990b4b69da691c6ffd2d17416a6e",likes:[{postID:"43t54g35",value:-1},{postID:"45y3g53hby4",value:-1},{postID:"yuj5ytgh4",value:1}]},{id:"37f8g3d",name:"redditor",createdOn:"11/15/2020, 4:20:00 PM",img:"https://www.gravatar.com/avatar/94d093eda664addd6e450d7e9881bcad?s=32&d=identicon&r=PG",likes:[{postID:"43t54g35",value:-1},{postID:"45y3g53hby4",value:-1},{postID:"yuj5ytgh4",value:1}]}],m=(s(18),s.p+"static/media/logo.d372719e.svg"),p=(s(19),function(t){var e=t.width,s=t.height,i=t.onClick,r=t.pointer,o=t.text,c=["Logo"];return r&&c.push("pointer"),Object(n.jsxs)("div",{className:c.join(" "),onClick:i,children:[Object(n.jsx)("img",{width:e,height:s,src:m,alt:"Shreddit Logo"}),o?Object(n.jsx)("h1",{className:"",children:"Shreddit"}):null]})}),v=(s(20),function(t){var e=t.user,s=t.click;return Object(n.jsxs)("div",{className:"UserMenu",onClick:function(){return s(e.id)},children:[Object(n.jsx)("img",{src:e.img}),Object(n.jsx)("p",{children:e.name})]})}),b=function(t){var e=t.onLogoClick,s=t.user,i=t.onUserClick;return Object(n.jsx)("div",{className:"NavBar",children:Object(n.jsxs)("div",{className:"row ml-1",style:{width:"100%"},children:[Object(n.jsx)("div",{className:"",children:Object(n.jsx)(p,{width:50,pointer:!0,text:!0,onClick:e})}),Object(n.jsx)("div",{className:"ml-auto mr-auto",style:{textAlign:"center"}}),Object(n.jsx)("div",{className:"ml-auto mr-2",children:Object(n.jsx)(v,{user:s,click:i})})]})})},g=(s(21),s(22),s(9)),x=s.n(g),f=function(t){var e=t.title,s=t.username,i=t.timestamp,r=t.op,o=t.click,c=t.user,a=["username"];r&&a.push("op"),x.a.suppressDeprecationWarnings=!0;var u;return Object(n.jsxs)("span",{className:"PostInfo",children:[Object(n.jsx)("b",{children:e})," \u2022 Posted by ",Object(n.jsxs)("span",{className:a.join(" "),onClick:function(){return o(c)},children:["u/",s]})," \u2022 ",(u=i,x()(u).fromNow())]})},O=(s(24),function(t){var e=t.title,s=t.user,i=t.timestamp,r=t.text,o=t.children,c=t.click,a=t.op,u=t.onUserClick;return Object(n.jsxs)("div",{className:"PostPreview",children:[Object(n.jsx)(f,{title:e,username:s.name,timestamp:i,op:a,click:u,user:"object"==typeof s?s.id:s}),Object(n.jsxs)("div",{onClick:c,children:[Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:r})]}),Object(n.jsx)("hr",{}),o]})}),D=(s(25),function(t){var e=t.active,s=t.click,i=["UpvoteButton"];return e&&i.push("active"),Object(n.jsx)("div",{className:i.join(" "),onClick:s,children:Object(n.jsx)("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 20 20",children:Object(n.jsx)("path",{d:"M9.951908,4.166667H9.951867l-5.36036,5.825781C4.593775,9.997617,4.592553,9.994831,4.594821,10h3.321361\r c0.000668,0.000668,0.001042,0.001041,0.001709,0.001709V15h4.166667v-4.99648c0.001369-0.001369,0.002151-0.002151,0.00352-0.00352\r h3.329831L9.951908,4.166667z"})})})}),I=(s(26),function(t){var e=t.active,s=t.click,i=["DownvoteButton"];return e&&i.push("active"),Object(n.jsx)("div",{className:i.join(" "),onClick:s,children:Object(n.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 20 20",children:Object(n.jsx)("path",{d:"M10.048084,15.833334h0.00004l5.360361-5.825782c-0.002268-0.005168-0.001046-0.002383-0.003314-0.007551H12.08381\r c-0.000668-0.000668-0.001041-0.001042-0.001709-0.001709V5H7.915434v4.99648c-0.001369,0.001369-0.002151,0.002151-0.00352,0.00352\r H4.582084L10.048084,15.833334z"})})})}),k=(s(27),s(28),function(t){var e=t.children,s=t.upvoteAmt,i=["LikeCounter"];return s>0&&i.push("up"),s<0&&i.push("down"),Object(n.jsx)("b",{className:i.join(" "),children:e})}),w=function(t){var e=t.upvotes,s=t.onUpvote,i=t.onDownvote,r=t.upvoted,o=t.upvoteAmt;return Object(n.jsxs)("div",{className:"PostControls",children:[Object(n.jsx)(D,{click:s,active:r&&o>0}),Object(n.jsx)(k,{upvoteAmt:o,children:e}),Object(n.jsx)(I,{click:i,active:r&&o<0})]})},U=(s(29),function(t){var e=t.onPost,s=Object(i.useState)({titleContent:"",descContent:""}),r=Object(d.a)(s,2),o=r[0],c=r[1],l=function(t){return c(Object(u.a)(Object(u.a)({},o),{},Object(a.a)({},t.target.name,t.target.value)))};return Object(n.jsxs)("div",{className:"AddPostInput",children:[Object(n.jsx)("h3",{children:"Add Post"}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:"Title"}),Object(n.jsx)("input",{placeholer:"Title",value:o.titleContent,name:"titleContent",onChange:l,className:"form-control"}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Content"}),Object(n.jsx)("textarea",{className:"form-control",name:"descContent",value:o.descContent,onChange:l}),Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(){e({title:o.titleContent,content:o.descContent}),c({titleContent:"",descContent:""})},children:"Post"})]})}),P=function(t){var e=t.users,s=t.posts,i=t.onUpvote,r=t.onDownvote,o=t.onViewPost,c=t.currentUser,a=t.onlyUser,u=t.margin,d=t.user,h=t.onUserClick,j=t.onPost,m=t.showCreatePost,p=function(t){return e.find((function(e){return e.id==t}))},v=function(t){var e=p(c).likes.find((function(e){return e.postID===t.postID}));return e?{hasVoted:void 0!==e,amount:e.value}:{hasVoted:!1}},b=Object(l.a)(s);a&&(console.log(c),b=b.filter((function(t){return t.authorID==d.id})));var g={};return u&&(g={marginTop:u}),Object(n.jsx)("div",{className:"PostsView row",style:g,children:Object(n.jsxs)("div",{className:"ml-auto mr-auto",children:[m&&Object(n.jsx)(U,{onPost:j}),b.map((function(t){return Object(n.jsx)(O,{title:t.title,user:p(t.authorID),timestamp:t.timePosted,text:(e=t.text,e.length>90?e.slice(0,90)+"...":e),click:function(){return o(t)},op:c==t.authorID,onUserClick:h,children:Object(n.jsx)(w,{onUpvote:function(){return i(t)},onDownvote:function(){return r(t)},upvotes:t.likes,upvoted:v(t).hasVoted,upvoteAmt:v(t).amount})},t.postID);var e}))]})})},C=(s(30),function(t){var e=t.currentUser,s=t.post,i=t.users,r=t.onDownvote,o=t.onUpvote,c=t.onUserClick,a=function(t){return i.find((function(e){return e.id==t}))},u=function(t){var e=a(t.authorID).likes.find((function(e){return e.postID===t.postID}));return e?{hasVoted:void 0!==e,amount:e.value}:{hasVoted:!1}};return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"ml-auto mr-auto",children:Object(n.jsxs)("div",{className:"FullPostView",children:[Object(n.jsx)(f,{title:s.title,timestamp:s.timePosted,username:a(s.authorID).name,click:c,user:s.authorID,op:e==s.authorID}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:s.text}),Object(n.jsx)("hr",{}),Object(n.jsx)(w,{onUpvote:function(){return o(s)},onDownvote:function(){return r(s)},upvotes:s.likes,upvoted:u(s).hasVoted,upvoteAmt:u(s).amount})]})})})}),T=(s(31),function(t){return console.log(t),Object(n.jsx)("div",{className:"UserView row",children:Object(n.jsxs)("div",{className:"ml-auto mr-auto",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("img",{src:t.user.img}),Object(n.jsxs)("h4",{className:t.op?"op":"",children:["u/",t.user.name]}),Object(n.jsxs)("small",{children:["Joined ",new Date(t.user.createdOn).toLocaleDateString("en")]})]}),Object(n.jsx)("div",{className:"col"})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"posts",children:[Object(n.jsx)("b",{children:"Posts"}),Object(n.jsx)(P,Object(u.a)(Object(u.a)({},t),{},{onlyUser:!0,margin:"-87px",onUserClick:t.onUserClick}))]})]})})});var N=function(){var t,e=Object(i.useState)(h.reverse()),s=Object(d.a)(e,2),r=s[0],o=s[1],c=Object(i.useState)(j),m=Object(d.a)(c,2),p=m[0],v=(m[1],Object(i.useState)({isViewingPost:!1,viewingPost:{},isViewingUser:!1,viewingUser:{},currentUser:p.find((function(t){return"45rg893hr"===t.id})),currentUserId:"45rg893hr"})),g=Object(d.a)(v,2),x=g[0],f=g[1],O=function(t,e,s){var n=r.indexOf(t);o([].concat(Object(l.a)(r.slice(0,n)),[Object(u.a)(Object(u.a)({},t),{},Object(a.a)({},e,s))],Object(l.a)(r.slice(n+1))))},D=function(t){var e=Object(u.a)({},x.currentUser);if(e.likes.find((function(e){return e.postID==t.postID})))if(e.likes.find((function(e){return e.postID==t.postID})).value<0)O(t,"likes",+t.likes+2),e.likes.find((function(e){return e.postID==t.postID})).value=1;else{O(t,"likes",+t.likes-1);var s=e.likes.findIndex((function(e){return e.postID==t.postID}));e.likes.splice(s,1)}else O(t,"likes",+t.likes+1),e.likes.push({postID:t.postID,value:1})},I=function(t){var e=Object(u.a)({},x.currentUser);if(x.currentUser.likes.find((function(e){return e.postID==t.postID})))if(e.likes.find((function(e){return e.postID==t.postID})).value>0)O(t,"likes",+t.likes-2),e.likes.find((function(e){return e.postID==t.postID})).value=-1;else{O(t,"likes",+t.likes+1);var s=e.likes.findIndex((function(e){return e.postID==t.postID}));e.likes.splice(s,1)}else O(t,"likes",+t.likes-1),e.likes.push({postID:t.postID,value:-1}),f(Object(u.a)(Object(u.a)({},x),{},{currentUser:e}))},k=function(t){f(Object(u.a)(Object(u.a)({},x),{},{viewingPost:t.postID,isViewingPost:!0}))},w=function(t){f(Object(u.a)(Object(u.a)({},x),{},{isViewingUser:!0,viewingUser:t}))},U=x.isViewingPost?Object(n.jsx)(C,{post:r.find((function(t){return t.postID===x.viewingPost})),users:p,currentUser:x.currentUserId,onUpvote:D,onDownvote:I,onUserClick:w}):Object(n.jsx)(P,{posts:r,users:p,onUpvote:D,onDownvote:I,onViewPost:k,currentUser:x.currentUser.id,onUserClick:w,onPost:function(t){var e={postID:(100090*Math.random()).toString(16).replace(".",""),title:t.title,text:t.content,timePosted:(new Date).toString(),likes:0,authorID:x.currentUserId,comments:[]};o([e].concat(Object(l.a)(r)))},showCreatePost:!0});return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(b,{onLogoClick:function(){f(Object(u.a)(Object(u.a)({},x),{},{viewingPost:{},isViewingPost:!1,isViewingUser:!1,viewingUser:{}}))},user:x.currentUser,onUserClick:w}),x.isViewingUser?Object(n.jsx)(T,(t={user:p.find((function(t){return t.id==x.viewingUser})),currentUser:x.currentUserId,op:x.viewingUser==x.currentUserId,posts:r,users:p,onUpvote:D,onDownvote:I,onViewPost:k},Object(a.a)(t,"currentUser",x.currentUserId),Object(a.a)(t,"onUserClick",w),t)):U]})},y=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,33)).then((function(e){var s=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;s(t),n(t),i(t),r(t),o(t)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),y()}],[[32,1,2]]]);
//# sourceMappingURL=main.f9a228cf.chunk.js.map